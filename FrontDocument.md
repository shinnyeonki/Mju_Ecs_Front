### í”„ë¡œì íŠ¸ ê°œìš”
mju_ecsëŠ” ëª…ì§€ëŒ€ í•™ìƒë“¤ì„ ëŒ€ìƒìœ¼ë¡œ ì»¨í…Œì´ë„ˆ ì»´í“¨íŒ… ìì›ì„ ë¹Œë ¤ì£¼ëŠ” ì„œë¹„ìŠ¤ ì…ë‹ˆë‹¤.    
aws  ì˜ ì»¨í…Œì´ë„ˆ ì„œë¹„ìŠ¤ì¸ ecs ì„œë¹„ìŠ¤ì™€ ì¼ì • ë¶€ë¶„ ë¹„ìŠ·í•˜ì§€ë§Œ ë¬´ë£Œ ìœ ë£Œ ë¶€ë¶„, ê·œëª¨ì—ì„œ ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤  

### ê¸°ìˆ  ìŠ¤íƒ ë° êµ¬í˜„ ìš°ì„ ìˆœìœ„, êµ¬ì¡°

HTML, CSS, JavaScript, Bootstrap ìœ¼ë¡œ í”„ë ˆì„ì›Œí¬ ì—†ëŠ” ì›¹í˜ì´ì§€ë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤  
ì¸ì¦ ì‹œìŠ¤í…œ (ë¡œê·¸ì¸/í† í° ê´€ë¦¬)   
ë©”ì¸ í˜ì´ì§€ ì»¨í…Œì´ë„ˆ ëª©ë¡ ë° ìƒíƒœ í‘œì‹œ `index.html`  
ì»¨í…Œì´ë„ˆ ì¶”ê°€ í˜ì´ì§€ `new_container.html`  
ì»¨í…Œì´ë„ˆ ìƒíƒœ í˜ì´ì§€ `container.html`  

â”œâ”€â”€ css
â”‚   â”œâ”€â”€ container.css
â”‚   â”œâ”€â”€ login.css
â”‚   â””â”€â”€ style.css
â”œâ”€â”€ js
â”‚   â”œâ”€â”€ api.js
â”‚   â”œâ”€â”€ auth.js
â”‚   â”œâ”€â”€ container.js
â”‚   â”œâ”€â”€ container_templates.js
â”‚   â”œâ”€â”€ containers.js
â”‚   â”œâ”€â”€ new_container.js
â”‚   â””â”€â”€ utils.js
â”œâ”€â”€ index.html
â”œâ”€â”€ login.html
â”œâ”€â”€ container.html
â””â”€â”€ new_container.html

- containers.js:
	- ë©”ì¸ í˜ì´ì§€(index.html)ì˜ ì»¨í…Œì´ë„ˆ ëª©ë¡ ê´€ë ¨ ê¸°ëŠ¥
	- ì»¨í…Œì´ë„ˆ í†µê³„ ì—…ë°ì´íŠ¸ ê¸°ëŠ¥
- container.js:
	- ì»¨í…Œì´ë„ˆ ìƒì„¸ ì •ë³´ í˜ì´ì§€(container.html) ê´€ë ¨ ê¸°ëŠ¥
	- ì»¨í…Œì´ë„ˆ ìƒì„¸ ì •ë³´ í‘œì‹œ ê¸°ëŠ¥
	- ì»¨í…Œì´ë„ˆ ì œì–´(ì‹œì‘, ì¤‘ì§€, ì¬ì‹œì‘, ì‚­ì œ) ê¸°ëŠ¥
	- ë¬¸ì„œ í‘œì‹œ ê¸°ëŠ¥
- new_container.js:
	- ìƒˆ ì»¨í…Œì´ë„ˆ ìƒì„± í˜ì´ì§€(new_container.html) ê´€ë ¨ ê¸°ëŠ¥
	- í…œí”Œë¦¿ ì„ íƒ ë° í‘œì‹œ ê¸°ëŠ¥
	- ì»¨í…Œì´ë„ˆ ìƒì„± í¼ ì²˜ë¦¬ ê¸°ëŠ¥

css ëŠ” ìµœì†Œë¡œ ì‚¬ìš©í•˜ê³  bootstrap ì„ ì‚¬ìš©

### í˜ì´ì§€ êµ¬ì„±  
`index.html` ë¡œê·¸ì¸ ì™„ë£Œë° ìµœì´ˆ í˜ì´ì§€ : ìµœì´ˆë¡œ ë³´ì´ëŠ” í˜ì´ì§€  
ì²«ë²ˆì§¸ ì—´ : ìš°ì¸¡ ìƒë‹¨ ì‚¬ìš©ì í•™ë²ˆ ì •ë³´íŒŒë‘ìƒ‰ ë°°ê²½ì˜ mju_ecs ì„œë¹„ìŠ¤ ê¸€ì  
ë‘ë²ˆì§¸ ì—´ : í˜„ì¬ ì‚¬ìš©ìì˜ ì»¨í…Œì´ë„ˆ ê°œìˆ˜ ë° ìƒíƒœ ë°•ìŠ¤ ì¹´ë“œ í˜•íƒœ (ì¢Œì¸¡ ì •ë ¬), ìš°ì¸¡ì •ë ¬ + ë²„íŠ¼ ì»¨í…Œì´ë„ˆ ì¶”ê°€,   ìµœìš°ì¸¡ì—ëŠ” ìƒíƒœ ì—…ë°ì´íŠ¸ ë²„íŠ¼
ì¤‘ì•™ : ì‚¬ìš©ì ê³µì§€
í•˜ë‹¨ : ì„œë¹„ìŠ¤ ì •ë³´ ë° í‘¸í„°

`login.html` ë¡œê·¸ì¸ì‹œ ë³´ì´ëŠ” í˜ì´ì§€
í•™ë²ˆ, ì´ë¦„, ë¹„ë°€ë²ˆí˜¸ë¥¼ ê¸°ì…
ì´ë¦„ì€ í–¥í›„ ì œê±°ë  ê¸°ëŠ¥ì´ë¯€ë¡œ api ìš”ì²­í• ë•Œë§Œ ë³´ë‚´ê¸°

`new_container.html` : ì»¨í…Œì´ë„ˆ ì¶”ê°€ í˜ì´ì§€ ë¯¸ë¦¬ ì •ì˜í•´ë‘” template ë˜ëŠ” menual ë°©ì‹ìœ¼ë¡œ ì¶”ê°€ ê°€ëŠ¥í•¨
í…œí”Œë¦¿ ì„ íƒ ì˜µì…˜  
ìˆ˜ë™ ì„¤ì • í¼(ì´ë¯¸ì§€ ì´ë¦„, í¬íŠ¸, í™˜ê²½ë³€ìˆ˜, ëª…ë ¹ì–´)  
/docker/custom/run API í˜¸ì¶œ êµ¬í˜„  

`container.html` : ì»¨í…Œì´ë„ˆì˜ ìƒíƒœì™€ ì •ë³´ë¥¼ ë³¼ ìˆ˜ ìˆìŒ, 
ì»¨í…Œì´ë„ˆì— ì ‘ê·¼ ê°€ëŠ¥í•œ url ì´ ìˆìŒ, ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ìƒˆíƒ­ì—ì„œ í•´ë‹¹í•˜ëŠ” ì»¨í…Œë„ˆì˜ í„°ë¯¸ë„ ì„¸ì…˜ì´ ì—´ë¦¼  
ì»¨í…Œì´ë„ˆ ID, ìƒíƒœ, ì´ë¯¸ì§€, ì‹œì‘ ì‹œê°„ ë“± í‘œì‹œ  
ì»¨í…Œì´ë„ˆ ì œì–´ ë²„íŠ¼(ì‹œì‘, ì •ì§€, ì¬ì‹œì‘, ì‚­ì œ)  
ì»¨í…Œì´ë„ˆ ì ‘ê·¼ URL ë° í„°ë¯¸ë„ ì—´ê¸° ë²„íŠ¼  

### ìš”ì²­ API

#### ë¡œê·¸ì¸ ì²˜ë¦¬
```json
ìš”ì²­ PATH : /auth/login
{
Â  Â  "studentId": "0000000", // ì‹¤ì œ í•™ë²ˆ
Â  Â  "name": "ì‹ ë…„ê¸°",        // ì´ë¦„ (ì´í›„ì—ëŠ” ì˜ì¡´ì„± ì œê±°í•  ê±°ì„ ë¡œê·¸ì¸ì²˜ë¦¬ì—ë§Œ ì‚¬ìš©í•˜ê³  ì‹¤ì œ ì‚¬ìš©ì€ x)
Â  Â  "passwrd": "00000000"   // ë¹„ë°€ë²ˆí˜¸
}


ì‘ë‹µ
Login successful
```


ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ í† í°ì´ ì„¸íŒ… ë©ë‹ˆë‹¤

|       |        |           |     |                               |       |       |
| ----- | ------ | --------- | --- | ----------------------------- | ----- | ----- |
| token | ...... | localhost | /   | Sat, 05 Feb 2028 14:38:39 GMT | false | false |
ëª…ì§€ëŒ€í•™êµ í¬í„¸ì‚¬ì´íŠ¸ ë¡œê·¸ì¸ì´ ê°€ëŠ¥í•œ í•™ìƒì„ ê¸°ë°˜ìœ¼ë¡œ ë¡œê·¸ì¸ì´ ê°€ëŠ¥í•œ ì¸ì›ì¸ ê²½ìš° ì„œë²„ì—ì„œ í•™ë²ˆë§Œ db ì— ì €ì¥í•˜ê³  token ì„ ë°œí–‰ ë§Œì•½ í† í°ë§Œë£Œ ì‹œ ë‹¤ì‹œ ë¡œê·¸ì¸ ìˆ˜í–‰ìœ¼ë¡œ ì§„í–‰ í”„ë¡ íŠ¸ì—ì„œëŠ” í† í° ì—¬ë¶€ë¥¼ ê°€ì§€ê³  ìˆ˜í–‰í•  ìˆ˜ ìˆìŒ

#### ìƒì„±
`POST /docker/custom/run` ìœ¼ë¡œ 
```json
{
    "imageName" : "ubuntu:22.04",
    "containerPort" : 22,
    "env" : {
        "envkey1" : "envvalue1",
        "envkey2" : "envvalue2"
    },
    "cmd" : [ "sleep" , "infinity"]
}
```

ë³´ë‚´ë©´ 
```
containerId: 738fd10e06c994bda393900b55dc272f7464971d76e92f6b20c7ba937b53970e, ttydUrl: http://localhost:15419
```

ì´ë ‡ê²Œ ì‘ë‹µì´ ì˜¤ê³  ì»¨í…Œì´ë„ˆ id ì™€ cmd ê°€ ë³´ì—¬ì§‘ë‹ˆë‹¤
#### ìƒíƒœ
GET `/docker/status` ë³´ë‚¼ì‹œ ì‚¬ìš©ìì˜ ì»¨í…Œì´ë„ˆ ì •ë³´ê°€ json ìœ¼ë¡œ ì˜µë‹ˆë‹¤
```json
[
    {
        "ports": {
            "hostPort": 19194,
            "containerPort": 22
        },
        "status": "running",
        "containerId": "738fd10e06c994bda393900b55dc272f7464971d76e92f6b20c7ba937b53970e",
        "image": "ubuntu:22.04",
        "startedAt": "2025-05-11T14:42:44.035153498Z"
    },
    {
        "ports": {
            "hostPort": 14998,
            "containerPort": 22
        },
        "status": "running",
        "containerId": "e511095f8a8a814ba15105e1b63a38bbfb62cdb755f2c65c1e23e49bc7397b73",
        "image": "ubuntu:22.04",
        "startedAt": "2025-05-11T14:44:29.501959144Z"
    }
]
```
ë§Œì•½
GET `/docker/status?containerId=738fd10e06c994bda393900b55dc272f7464971d76e92f6b20c7ba937b53970e`
ì´ë ‡ê²Œ ì¸ìˆ˜ë¡œ id ë¥¼ ë³´ë‚´ë©´ 
```json
{
Â  Â  "ports": {
Â  Â  Â  Â  "hostPort": 19194,
Â  Â  Â  Â  "containerPort": 22
Â  Â  },
Â  Â  "status": "running",
Â  Â  "containerId": "738fd10e06c994bda393900b55dc272f7464971d76e92f6b20c7ba937b53970e",
Â  Â  "image": "ubuntu:22.04",
Â  Â  "startedAt": "2025-05-11T14:42:44.035153498Z"
}
```
í•´ë‹¹í•˜ëŠ” id ì»¨í…Œì´ë„ˆ ì •ë³´ë§Œ ë“¤ì–´ì˜µë‹ˆë‹¤


#### ì •ì§€, ì‹œì‘, ë‹¤ì‹œì‹œì‘, ì‚­ì œ
4ê°œëŠ” 
ì¸ìˆ˜ë¡œ containerId ê°€ í•„ìš”í•˜ê³ 
ê°ê°
POST `/docker/stop?containerId=1733658b61d30717d2083467ba656abd68b29bfa7d075ed629497d557403b7cd`
POST `/docker/start?containerId=1733658b61d30717d2083467ba656abd68b29bfa7d075ed629497d557403b7cd`
POST `/docker/restart?containerId=1733658b61d30717d2083467ba656abd68b29bfa7d075ed629497d557403b7cd`
DEL `/docker/remove?containerId=1733658b61d30717d2083467ba656abd68b29bfa7d075ed629497d557403b7cd`

ì´ëŸ°ì‹ ì…ë‹ˆë‹¤


### ğŸ“ ì»¨í…Œì´ë„ˆ íŒŒì¼ ë‹¤ìš´ë¡œë“œ API (ì¶”ê°€ë¨)
âœ… GET /docker/download
ğŸ“Œ ì„¤ëª…
Docker ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì˜ ëª¨ë“  íŒŒì¼ ì‹œìŠ¤í…œì„ ì„œë²„ì—ì„œ ë³µì‚¬ í›„ ZIP í˜•ì‹ìœ¼ë¡œ ì••ì¶•í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ì†¡í•©ë‹ˆë‹¤.
ì´ ê¸°ëŠ¥ì€ Spring Boot ê¸°ë°˜ìœ¼ë¡œ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.
ğŸ“¥ ìš”ì²­
HTTP Method : GET
URL : /docker/download
Query Parameter :
containerId (í•„ìˆ˜): ëŒ€ìƒ ì»¨í…Œì´ë„ˆì˜ ID ë˜ëŠ” ì´ë¦„
ğŸ“¤ ì‘ë‹µ
ì„±ê³µ ì‹œ :
HTTP Status: 200 OK
Content-Type: application/octet-stream
Content-Disposition: attachment; filename=container-files.zip
Body: ì»¨í…Œì´ë„ˆ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì˜ ëª¨ë“  íŒŒì¼ì´ í¬í•¨ëœ ZIP íŒŒì¼
ì‹¤íŒ¨ ì‹œ :
HTTP Status: 500 Internal Server Error
Body: ì—†ìŒ
ğŸ”„ ë™ì‘ ìˆœì„œ
ì„œë²„ê°€ ì„ì‹œ ë””ë ‰í† ë¦¬ ìƒì„± (/tmp/docker-container-files-*)
docker cp <containerId>:/ <tempDir> ì‹¤í–‰
í•´ë‹¹ ë””ë ‰í† ë¦¬ë¥¼ ZIP íŒŒì¼ë¡œ ì••ì¶•
ZIP íŒŒì¼ì„ HTTP ì‘ë‹µìœ¼ë¡œ ë°˜í™˜
ì„ì‹œ ë””ë ‰í† ë¦¬ ì‚­ì œ
